"task_name: mobile-app-phase2-core-features\nobjective: Implement core user-facing\
  \ features including navigation, feed, post creation, profiles, and connections\
  \ management for TrustLink AI Guardian mobile app\nrequirements:\n  - Implement\
  \ React Navigation with bottom tab navigator (Feed, Network, Messages, Notifications,\
  \ Profile)\n  - Create stack navigators for detail views with protected route logic\n\
  \  - Build infinite scroll feed using FlatList with pull-to-refresh\n  - Display\
  \ posts with AI moderation badges and interaction counts\n  - Implement post creation\
  \ with camera/gallery integration and image upload\n  - Create user profile screen\
  \ with stats, trust scores, and edit functionality\n  - Build connections management\
  \ with trust score visualization\n  - Develop reusable UI component library (Button,\
  \ Card, Input, Avatar, Badge)\n  - Implement optimistic updates for user actions\n\
  \  - Support offline-first functionality where applicable\n  - Ensure accessibility\
  \ compliance (labels, roles, touch targets)\n  - Maintain TypeScript strict typing\
  \ throughout\n  - Achieve 60fps scrolling performance and <1s navigation transitions\n\
  files_to_modify:\n  - generated_code/app/_layout.tsx\n  - generated_code/app/index.tsx\n\
  \  - generated_code/contexts/AuthContext.tsx\n  - generated_code/package.json\n\
  new_files:\n  - generated_code/navigation/AppNavigator.tsx\n  - generated_code/navigation/AuthNavigator.tsx\n\
  \  - generated_code/navigation/TabNavigator.tsx\n  - generated_code/navigation/types.ts\n\
  \  - generated_code/screens/FeedScreen.tsx\n  - generated_code/screens/NetworkScreen.tsx\n\
  \  - generated_code/screens/MessagesScreen.tsx\n  - generated_code/screens/NotificationsScreen.tsx\n\
  \  - generated_code/screens/ProfileScreen.tsx\n  - generated_code/screens/PostDetailScreen.tsx\n\
  \  - generated_code/screens/CreatePostScreen.tsx\n  - generated_code/screens/EditProfileScreen.tsx\n\
  \  - generated_code/screens/ConnectionRequestsScreen.tsx\n  - generated_code/components/ui/Button.tsx\n\
  \  - generated_code/components/ui/Card.tsx\n  - generated_code/components/ui/Input.tsx\n\
  \  - generated_code/components/ui/Avatar.tsx\n  - generated_code/components/ui/Badge.tsx\n\
  \  - generated_code/components/ui/LoadingSkeleton.tsx\n  - generated_code/components/PostCard.tsx\n\
  \  - generated_code/components/ConnectionCard.tsx\n  - generated_code/components/ProfileHeader.tsx\n\
  \  - generated_code/components/TrustScoreBadge.tsx\n  - generated_code/components/ImagePicker.tsx\n\
  \  - generated_code/hooks/usePosts.ts\n  - generated_code/hooks/useConnections.ts\n\
  \  - generated_code/hooks/useProfile.ts\n  - generated_code/hooks/useImageUpload.ts\n\
  \  - generated_code/hooks/useInfiniteScroll.ts\n  - generated_code/services/posts.ts\n\
  \  - generated_code/services/connections.ts\n  - generated_code/services/storage.ts\n\
  \  - generated_code/types/posts.ts\n  - generated_code/types/connections.ts\n  -\
  \ generated_code/types/profile.ts\n  - generated_code/utils/imageCompression.ts\n\
  \  - generated_code/utils/permissions.ts\n  - generated_code/__tests__/hooks/usePosts.test.ts\n\
  \  - generated_code/__tests__/hooks/useConnections.test.ts\n  - generated_code/__tests__/components/Button.test.tsx\n\
  \  - generated_code/__tests__/components/PostCard.test.tsx\n  - generated_code/__tests__/screens/FeedScreen.test.tsx\n\
  \  - generated_code/__tests__/integration/postCreation.test.tsx\n  - generated_code/__tests__/integration/connectionRequest.test.tsx\n\
  implementation_steps:\n  - \"Step 1: Install dependencies - Add @react-navigation/native,\
  \ @react-navigation/bottom-tabs, @react-navigation/native-stack, react-native-paper,\
  \ expo-camera, expo-image-picker, expo-image-manipulator, @tanstack/react-query\
  \ to package.json\"\n  - \"Step 2: Create navigation type definitions in navigation/types.ts\
  \ with proper TypeScript types for all screen params\"\n  - \"Step 3: Implement\
  \ AuthNavigator with login/signup screens and navigation logic in navigation/AuthNavigator.tsx\"\
  \n  - \"Step 4: Create TabNavigator with bottom tabs (Feed, Network, Messages, Notifications,\
  \ Profile) in navigation/TabNavigator.tsx\"\n  - \"Step 5: Build AppNavigator with\
  \ stack navigators for detail views and protected route logic in navigation/AppNavigator.tsx\"\
  \n  - \"Step 6: Update app/_layout.tsx to integrate navigation system with AuthContext\"\
  \n  - \"Step 7: Create UI component library - Button.tsx with variants (primary,\
  \ secondary, ghost) and loading states\"\n  - \"Step 8: Create UI components - Card.tsx\
  \ with elevation and press states\"\n  - \"Step 9: Create UI components - Input.tsx\
  \ with error states and validation feedback\"\n  - \"Step 10: Create UI components\
  \ - Avatar.tsx with image loading and fallback initials\"\n  - \"Step 11: Create\
  \ UI components - Badge.tsx for trust scores and moderation indicators\"\n  - \"\
  Step 12: Create LoadingSkeleton.tsx for feed loading states\"\n  - \"Step 13: Define\
  \ post types in types/posts.ts matching Supabase schema\"\n  - \"Step 14: Create\
  \ posts service in services/posts.ts with fetchPosts, createPost, likePost functions\"\
  \n  - \"Step 15: Implement usePosts hook with React Query for infinite scroll and\
  \ optimistic updates\"\n  - \"Step 16: Create useInfiniteScroll hook for FlatList\
  \ pagination\"\n  - \"Step 17: Build TrustScoreBadge component with color-coded\
  \ trust score display\"\n  - \"Step 18: Create PostCard component with AI badges,\
  \ interaction buttons, and press handlers\"\n  - \"Step 19: Implement FeedScreen\
  \ with FlatList, pull-to-refresh, infinite scroll, and loading skeletons\"\n  -\
  \ \"Step 20: Create PostDetailScreen with comments section and full post view\"\n\
  \  - \"Step 21: Implement permissions utility in utils/permissions.ts for camera\
  \ and media library\"\n  - \"Step 22: Create imageCompression utility using expo-image-manipulator\
  \ for optimizing uploads\"\n  - \"Step 23: Build ImagePicker component with camera/gallery\
  \ selection and preview\"\n  - \"Step 24: Create storage service in services/storage.ts\
  \ for Supabase Storage uploads with progress tracking\"\n  - \"Step 25: Implement\
  \ useImageUpload hook with compression and upload progress\"\n  - \"Step 26: Build\
  \ CreatePostScreen with text input, image picker, upload progress, and validation\"\
  \n  - \"Step 27: Define profile and connection types in types/profile.ts and types/connections.ts\"\
  \n  - \"Step 28: Create connections service in services/connections.ts with fetchConnections,\
  \ sendRequest, acceptRequest, rejectRequest functions\"\n  - \"Step 29: Implement\
  \ useConnections hook with React Query and optimistic updates\"\n  - \"Step 30:\
  \ Create useProfile hook for fetching and updating user profiles\"\n  - \"Step 31:\
  \ Build ProfileHeader component with avatar, stats, edit button, and trust score\"\
  \n  - \"Step 32: Create ProfileScreen with user posts grid, connections list, and\
  \ stats display\"\n  - \"Step 33: Implement EditProfileScreen with form validation\
  \ and image upload\"\n  - \"Step 34: Build ConnectionCard component with trust score\
  \ visualization and action buttons\"\n  - \"Step 35: Create NetworkScreen with connections\
  \ list and search functionality\"\n  - \"Step 36: Implement ConnectionRequestsScreen\
  \ with pending requests and accept/reject actions\"\n  - \"Step 37: Create placeholder\
  \ MessagesScreen and NotificationsScreen (basic UI, full functionality in Phase\
  \ 3)\"\n  - \"Step 38: Add error boundaries and error handling to all screens\"\n\
  \  - \"Step 39: Implement offline-first caching strategy using React Query's cache\
  \ persistence\"\n  - \"Step 40: Add accessibility labels and roles to all interactive\
  \ components\"\ntesting_requirements:\n  - Unit test usePosts hook with mocked Supabase\
  \ client - test fetch, create, like, optimistic updates\n  - Unit test useConnections\
  \ hook - test fetch, send request, accept, reject, optimistic updates\n  - Unit\
  \ test useImageUpload hook - test compression, upload, progress tracking, error\
  \ handling\n  - Component test Button - test variants, loading states, disabled\
  \ states, onPress callbacks\n  - Component test PostCard - test rendering post data,\
  \ AI badges, interaction buttons, press handlers\n  - Component test ConnectionCard\
  \ - test trust score colors, action buttons, mutual connections\n  - Screen test\
  \ FeedScreen - test infinite scroll, pull-to-refresh, loading states, empty states\n\
  \  - Integration test post creation flow - camera permission \u2192 image capture\
  \ \u2192 compression \u2192 upload \u2192 post creation\n  - Integration test connection\
  \ request flow - send request \u2192 pending state \u2192 accept/reject \u2192 update\
  \ UI\n  - Test camera and media library permissions handling with denied/granted\
  \ scenarios\n  - Test image compression reduces file size by at least 50% while\
  \ maintaining quality\n  - Test navigation between all screens without memory leaks\n\
  \  - Test accessibility with screen reader - all buttons and inputs have proper\
  \ labels\n  - Performance test - FeedScreen maintains 60fps while scrolling through\
  \ 100+ posts\n  - Snapshot tests for all UI components to catch unintended visual\
  \ regressions\nconstraints:\n  - Do NOT modify Supabase schema or backend - use\
  \ existing tables (profiles, posts, ai_post_analysis, connections, trust_scores)\n\
  \  - Do NOT break Phase 1 code - extend existing AuthContext, supabaseClient, theme\
  \ without modifying core logic\n  - Do NOT install unnecessary dependencies - reuse\
  \ React Native Paper components where possible\n  - Follow existing TypeScript patterns\
  \ from Phase 1 - strict typing, no any types\n  - Use FlatList (not ScrollView)\
  \ for all lists to ensure performance\n  - Implement proper cleanup in useEffect\
  \ hooks to prevent memory leaks\n  - Keep bundle size under 50MB - use lazy loading\
  \ for images and screens\n  - Follow React Native performance best practices - memoize\
  \ components, use React.memo, useMemo, useCallback\n  - Ensure all images are compressed\
  \ before upload - max 2MB per image\n  - Use existing theme colors and spacing from\
  \ theme/index.ts\n  - Follow accessibility guidelines - minimum touch target 44x44,\
  \ proper contrast ratios\n  - Add proper error handling for all async operations\
  \ - network errors, permission denials, validation errors\n  - Use Supabase RLS\
  \ policies for security - no client-side authorization checks\n  - Test on both\
  \ iOS and Android before finalizing"
